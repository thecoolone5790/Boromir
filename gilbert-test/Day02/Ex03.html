<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calc</title>
</head>
<body>
        <table style="border: 1px solid;" id="calc">
            <tr>
                <td colspan="4" style="background: #9b9d9f" id="showView">sd</td>
            </tr>
            <tr>
                <td><button value="AC">AC</button></td>
                <td><button value="change">+/-</button></td>
                <td><button value="%">%</button></td>
                <td><button value="/">/</button></td>
            </tr>
            <tr>
                <td><button value="7" >7</button></td>
                <td><button value="8" >8</button></td>
                <td><button value="9" >9</button></td>
                <td><button value="X">X</button></td>
            </tr>
            <tr>
                <td><button value="4">4</button></td>
                <td><button value="5">5</button></td>
                <td><button value="6">6</button></td>
                <td><button value="-">-</button></td>
            </tr>
            <tr>
                <td><button value="1">1</button></td>
                <td><button value="2">2</button></td>
                <td><button value="3">3</button></td>
                <td><button value="+">+</button></td>
            </tr>
            <tr>
                <td colspan="2" value="0"><button>0</button></td>
                <td><button value=".">.</button></td>
                <td><button value="=">=</button></td>
            </tr>
        </table>
</body>
<script>
    // 연산 눌렀을때 값 비우기 해야됨
    var Calc = (function Calc(){
        this.showView = document.getElementById('showView');    // 뷰
        this.result = 0;    //결과
        this.firstNum = 0;    //현재 값
        this.secondNum = 0;    //현재 값

        var init = function(){  // 시작
            display();
            action();
        };

        var add = function(num){    //더하기
            result += num;
            console.log(result);
            number = 0;

        };
        var sub = function(num){    //빼기
            result -= num;
        };
        var div = function(num){    //나누기
            result /= num;
        };
        var rem = function(num){    //나머지
            result %= num;
        };
        var mul = function(num){    //곱하기
            result *= num;
        };
        var getResult = function(){     //결과
            return  result;
        };
        var display = function(){       //결과창
            showView.innerText = result;
        };

        var action = function(){    //이벤트
            var btns = document.querySelectorAll('#calc button');
            [].forEach.call(btns, function(btn){
                btn.addEventListener('click' , function(e){
                    switch (this.value){
                        case '=' : display(); break;
                        case 'AC': add(parseFloat(number)); break;
                        case '+/-': add(parseFloat(number)); break;
                        default :
                            number += this.value;
                            showView.innerText = number;

                    }
                })
            });
        };
        return {
            init :init()
        }
    })();



</script>
</html>